<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Brown Stone  
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20100928

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>SICP 第2章「Building Abstractions with Data」【前編】</title>
<link href="/theme/css/style.css" rel="stylesheet" type="text/css" media="screen" />
<link href="/" type="application/atom+xml" rel="alternate" title="だからといって、このままでいいはずがない。 ATOM Feed" />
</head>
<body>
<div id="wrapper">
	<div id="page">
		<div id="page-bgtop">
			<div id="page-bgbtm">
    
                        	<div id="content">
					<div class="post">
						<h2 class="title"><a href="sicp-%e7%ac%ac2%e7%ab%a0%e3%80%8cbuilding-abstractions-with-data%e3%80%8d%e3%80%90%e5%89%8d%e7%b7%a8%e3%80%91.html">SICP 第2章「Building Abstractions with Data」【前編】</a></h2>
						<p class="meta"><span class="date">Le 月 25 11月 2013 </span><span class="posted">Par <a href="#">nishiyama101</a></span><span>&nbsp; | Catégorie : <a href="/category/impressions-programming-sicp.html">Impressions, Programming, SICP</a></span></p>
					<p class="meta">Tags : </p>	
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <p>1章が割りとすんなり終わったものだから、少し油断していた。2章からは分量も問題数も随分多くなりなかなか終わりそうにない。大体2章の60%ぐらいが終わったから、備忘録も兼ねてこの辺りで感想をまとめておこう。</p>
<p>ところで、Edsgar Dijkstraの言葉にこのようなものがある</p>
<blockquote>
<p>Being abstract is something profoundly different from being vague…<br />
 The purpose of abstraction is not to be vague, but to create a new
semantic level in which one can be absolutely precise.   (<a href="http://www.linfo.org/q_programming.html" title="Best Programming Quotations">「Best
Programming Quotations」</a>より)</p>
<p>抽象的であることと曖昧であることは全く違う。<br />
 抽象化の目的は、曖昧にすることではない。<br />
 抽象化は、新たなセマンティックレベルを創出し、<br />
 そのレベルにおいて人は非常に正確で有り得る。(拙訳)</p>
</blockquote>
<p>(ここでいうセマンティックレベルとは、抽象化の結果生まれる新しいレイヤーのことであろう。SICPではAbstraction
Barrierという言葉で述べられている概念だ。)</p>
<p>プログラミングをはじめた頃は、自分の頭の悪さを度々嘆いたものだ。特に深い再帰処理では、すぐにコールスタックを追うことができなくなる。こういうとき、自分のメモリがプログラミングをするには少なすぎる、そういう風に考えてしまうことが多かった。</p>
<p>だが、SICPをやり始めて一番身に沁みたことは、「抽象化>記憶力」であるということだ。難しい問題を抽象化し、抽象化した部分をどんどんとモジュール化していけば、記憶力が良くなくても問題が解ける。つまり、モジュールの動作が保証されているのであれば、全体が把握しきれなくても良いのである。これは当然、単体テスト・自動テストなどが有用であることの理由にもなり得る。こんなことは当たり前かと思うかもしれない。しかし、いざやってみると、抽象化能力が不十分であることが露呈する。少なくとも私の場合はそうだった。</p>
<p>例えば、</p>
<p>listの長さを求める函数(length)<br />
list同士を連結する函数(append)<br />
listの全要素に任意の処理を行う函数(map)</p>
<p>を実装するとして、list構造に慣れていなければappendぐらいでも結構混乱してしまうものだ。だがそれは、これら3つ処理に共通する処理、つまり抽象化可能な処理が見えていないということに他ならない。その抽象化されるべき処理とは</p>
<p>「先頭の要素」と、「後述の要素に再帰的処理を行ったもの」との間の演算</p>
<p>である。この抽象化を実装すると、</p>
<p>``` {.lang:scheme .decode:true title="accumulate"}
(define (accumulate op initial sequence)
  (if (null? sequence)
      initial
      (op (car sequence)
          (accumulate op initial (cdr sequence)))))</p>
<div class="highlight"><pre><span class="err">というようになるわけだ</span><span class="p">(</span><span class="err">それにしても、高次の概念であるほど、英語で名前をつけるのが難しい。この処理に</span><span class="nx">accumulate</span><span class="err">という動詞を当て嵌めることは今の英語能力では到底出来ない…</span><span class="p">)</span><span class="err">。そして、これを用いれば、簡単に上記</span><span class="mi">3</span><span class="err">つの問題に対処できるということが</span><span class="nx">Ex</span>
<span class="mf">2.33</span><span class="p">.</span><span class="err">によって示される。</span>

<span class="err">```</span> <span class="p">{.</span><span class="nx">lang</span><span class="o">:</span><span class="nx">scheme</span> <span class="p">.</span><span class="nx">decode</span><span class="o">:</span><span class="kc">true</span><span class="p">}</span>
<span class="p">;;</span> <span class="nx">Exercise</span> <span class="mf">2.33</span><span class="p">.</span>  <span class="nx">Fill</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">missing</span> <span class="nx">expressions</span> <span class="nx">to</span> <span class="nx">complete</span> <span class="nx">the</span> <span class="nx">following</span> <span class="nx">definitions</span> <span class="nx">of</span> <span class="nx">some</span> <span class="nx">basic</span> <span class="nx">list</span><span class="o">-</span><span class="nx">manipulation</span> <span class="nx">operations</span> <span class="nx">as</span> <span class="nx">accumulations</span><span class="o">:</span>

<span class="p">;;</span> <span class="p">(</span><span class="nx">define</span> <span class="p">(</span><span class="nx">map</span> <span class="nx">p</span> <span class="nx">sequence</span><span class="p">)</span>
<span class="p">;;</span>   <span class="p">(</span><span class="nx">accumulate</span> <span class="p">(</span><span class="nx">lambda</span> <span class="p">(</span><span class="nx">x</span> <span class="nx">y</span><span class="p">)</span> <span class="cp">&lt;??&gt;</span><span class="p">)</span> <span class="nx">nil</span> <span class="nx">sequence</span><span class="p">))</span>
<span class="p">;;</span> <span class="p">(</span><span class="nx">define</span> <span class="p">(</span><span class="nx">append</span> <span class="nx">seq1</span> <span class="nx">seq2</span><span class="p">)</span>
<span class="p">;;</span>   <span class="p">(</span><span class="nx">accumulate</span> <span class="nx">cons</span> <span class="cp">&lt;??&gt;</span> <span class="cp">&lt;??&gt;</span><span class="p">))</span>
<span class="p">;;</span> <span class="p">(</span><span class="nx">define</span> <span class="p">(</span><span class="nx">length</span> <span class="nx">sequence</span><span class="p">)</span>
<span class="p">;;</span>   <span class="p">(</span><span class="nx">accumulate</span> <span class="cp">&lt;??&gt;</span> <span class="mi">0</span> <span class="nx">sequence</span><span class="p">))</span>

<span class="p">(</span><span class="nx">define</span> <span class="p">(</span><span class="nx">map</span> <span class="nx">p</span> <span class="nx">sequences</span><span class="p">)</span>
  <span class="p">(</span><span class="nx">accumulate</span> <span class="p">(</span><span class="nx">lambda</span> <span class="p">(</span><span class="nx">x</span> <span class="nx">y</span><span class="p">)</span> <span class="p">(</span><span class="nx">cons</span> <span class="p">(</span><span class="nx">p</span> <span class="nx">x</span><span class="p">)</span> <span class="nx">y</span><span class="p">))</span> <span class="s1">&#39;() sequences))</span>
<span class="s1">(define (append seq1 seq2)</span>
<span class="s1">  (accumulate cons (accumulate cons &#39;</span><span class="p">()</span> <span class="nx">seq2</span><span class="p">)</span> <span class="nx">seq1</span><span class="p">))</span>
<span class="p">(</span><span class="nx">define</span> <span class="p">(</span><span class="nx">length</span> <span class="nx">sequence</span><span class="p">)</span>
  <span class="p">(</span><span class="nx">accumulate</span> <span class="p">(</span><span class="nx">lambda</span> <span class="p">(</span><span class="nx">x</span> <span class="nx">y</span><span class="p">)</span> <span class="p">(</span><span class="o">+</span> <span class="mi">1</span> <span class="nx">y</span><span class="p">))</span> <span class="mi">0</span> <span class="nx">sequence</span><span class="p">))</span>
</pre></div>


<p>ところで、記憶力の補完物として抽象化があるということは、プログラミング以外でも変わらない(人間の記憶力の弱さは、<a href="http://ja.wikipedia.org/wiki/%E3%82%B8%E3%83%A7%E3%83%BC%E3%82%B8%E3%83%BB%E3%83%9F%E3%83%A9%E3%83%BC" title="ジョージ・ミラー">ジョージ・ミラーのマジカルナンバー</a>を考えれば明らかだ)。</p>
<p>例えば、「1ヶ月で300ページの本を読む」という目標は「昨日読んだ最後のページから10ページ読むことを1ヶ月間続ける」ということであるし、あらゆる目標の究極的な抽象化は「過去より現在のほうが進んでいる」ということである。そういう意味で、自己管理指標は、過去と現在の短い差分で計れるべきものでなくてはならない。</p>
<p>複雑な処理を抽象化し分解することで、対処すべき問題が明確になる。そういう意味でDijkstraは「precise」になれると言っているのであろう。人生も同じで、時に全体を見渡す必要があるが、「近視眼になれる仕組み作り」がなにより重要なのではないだろうか。</p>	
						</div>
					</div>
			      
					<div style="clear: both;">&nbsp;</div>
				</div>
				<!-- end #content -->
				<div id="sidebar">
					<div id="logo">
						<h1><a href="">だからといって、このままでいいはずがない。</h1>
					</div>
					<div id="menu">
						<ul>
							<li class="current_page_item"><a href="">Home</a></li>
							<li><a href="/archives.html">Archives</a></li>
                                                            <li><a href="/pages/about-me.html">About Me</a></li>
						</ul>
					</div>
					<ul>
						<li>
							<h2>Catégories</h2>
							<ul>
								 <li ><a href="/category/impressions.html">Impressions</a></li>
								 <li ><a href="/category/impressions-music.html">Impressions, Music</a></li>
								 <li ><a href="/category/impressions-music-programming.html">Impressions, Music, Programming</a></li>
								 <li ><a href="/category/impressions-programming.html">Impressions, Programming</a></li>
								 <li class="active"><a href="/category/impressions-programming-sicp.html">Impressions, Programming, SICP</a></li>
								 <li ><a href="/category/misc.html">misc</a></li>
								 <li ><a href="/category/programming.html">Programming</a></li>
								 <li ><a href="/category/programming-sicp.html">Programming, SICP</a></li>
								 <li ><a href="/category/programming-sicp-patahene.html">Programming, SICP, パタヘネ</a></li>
							</ul>
						</li>
						<li>
							<h2>Blogroll</h2>
							<ul>
                                                            <li><a href="http://getpelican.com/">Pelican</a></li>
                                                            <li><a href="http://python.org/">Python.org</a></li>
                                                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                                                            <li><a href="#">You can modify those links in your config file</a></li>
							</ul>
						</li>
                                                <li>
                                                        <h2>Social</h2>
                                                        <ul>
                                                            <li><a href="/" rel="alternate">Flux Atom</a></li>
                                                            <li><a href="#">You can add links in your config file</a></li>
                                                            <li><a href="#">Another social link</a></li>
                                                        </ul>
                                                </li><!-- /.social -->
						<li>
						        <h2>Tags</h2>
						        <ul>
						        </ul>
						</li>
						
						
					</ul>
				</div>
				<!-- end #sidebar -->
				<div style="clear: both;">&nbsp;</div>
			</div>
		</div>
	</div>
	<!-- end #page -->

<div id="footer">
	<p>Copyright (c) 2008 Sitename.com. All rights reserved. Design by <a href="http://www.freecsstemplates.org/">CSS Templates</a>.</p>
	<p>Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
</p>
</div>
<!-- end #footer -->
</body>
</html>