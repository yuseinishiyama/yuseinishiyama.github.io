<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>だからといって、このままでいいはずがない。 - nishiyama101 だからといって、このままでいいはずがない。</title>

    <link rel="stylesheet" href="/theme/css/main.css">
    <link rel="stylesheet" href="/theme/css/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <div><img src="" class="grv-img"/></div>
        <div class="title"><a href="/">だからといって、このままでいいはずがない。 </a></div>
        <div class="sub-title"></div>

<p>
  <div class="view"><a href="/pages/about-me.html">About Me</a></div>
  <div class="view"><a href="/archives.html">Archives</a></div>
  <div class="view"><a href="/categories.html">Categories</a></div>  
</p>

<!-- Social links -->
<div class="social">
<h4>Follow Me</h4>
<ul>
    <li><a href="https://twitter.com/yuseinishiyama">twitter</a></li>
    <li><a href="https://github.com/yuseinishiyama">github</a></li>
</ul>
</div>

      </header>
      <section>
      <div class="front-title"><a href="/posts/2013/10/27/sicp2/">SICP 第1章「Building Abstractions with Procedures」を読み終えて。(後編)</a></div>
<p>
<small>
<abbr class="published" title="2013-10-27T03:50:00">
  日 27 10月 2013
</abbr> | 
 -- (<a href="/posts/2013/10/27/sicp2/" rel="bookmark">permalink</a>)
</small>
</p>      <p><a href="http://yuseinishiyama.com/archives/184" title="SICP 第1章「Building Abstractions with Procedures」を読み終えて。(前編)">(前編はこちら)</a></p>
<p>1章から学べたことを列挙する。</p>
<p>・Schemeに慣れた。  </p>
<p>if、cond、define、let、lambdaなどを用いてプログラミングできるようになった。例の「カッコ」にもだいぶ慣れてきた。</p>
<p>・linear recursionとiterationの違いが分かるようになった。  </p>
<p>今以上に不慣れな時のコードではあるが、以下のようにrecursionとiterationで再帰が書けるようになった。後者のほうが遥かに効率が良い。</p>
<p>``` {.lang:scheme .decode:true title="Exercise 1.11. "}
;recursion
(define (f n)
  (cond ((&lt; n 3) n)
        (else (+ (f (- n 1))
                 (<em> 2 (f (- n 2)))
                 (</em> 3 (f (- n 3)))))))</p>
<p>;iteration
(define (f-iter product product-1 product-2 ...</p> 
      <div class="read-more"><a href="/posts/2013/10/27/sicp2/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="/posts/2013/10/27/sicp1/">SICP 第1章「Building Abstractions with Procedures」を読み終えて。(前編)</a></div>
<p>
<small>
<abbr class="published" title="2013-10-27T03:15:00">
  日 27 10月 2013
</abbr> | 
 -- (<a href="/posts/2013/10/27/sicp1/" rel="bookmark">permalink</a>)
</small>
</p>      <p><a href="http://yuseinishiyama.com/archives/179" title="代替不可能なプログラマとは。">先日の投稿「代替不可能なプログラマとは。」</a>にある通り、SICPを読み始め、先日第1章「Building
Abstractions with
Procedures」を読み終えた。実際には<a href="http://yuseinishiyama.com/archives/179" title="代替不可能なプログラマとは。">先日の投稿</a>より少し前から読み始めていて、1章読み終えるのに3週間ほどかかったことになる。(さらに言うと、3ヶ月ほど前に、ビデオ講義を3時間分ほど鑑賞した。この時は、テキストが存在することを知らなかったのと、当たり前だが偉大なるハル・アベルソン氏とジェラルド・ジェイ・サスマン氏の早口の英語が聞き取れるはずもなく、あえなく挫折した。)</p>
<p>学習環境は以下。</p>
<p>・テキストは原著で。  </p>
<p>テキストは原著がオンラインで閲覧できるので、原著で読むことにした。日本語訳に対する酷評を聞き過ぎたせいで、理解できなかった場合に翻訳のせいにしてしまいそうだからだ。それと、語学能力の訓練にもなればと思っている。英語だけをやっている時間がないので、英語とプログラミングを一緒に効率良く学びたい。</p>
<p>・開発環境にはDrRacketを使用。  </p>
<p>コマンドラインとかEmacsとかも試してみたが、結局一番楽そうなものに落ち着いた。</p>
<p>SICPを読んだ結果できるようになること、得られる知識というのははっきりしていなくて、ただただ今よりプログラミングを深く理解できるに違いないという予感だけがモチベーションになっている。SICPに関して「<a href="http://www.cs.berkeley.edu/~bh/sicp.html" title="Why Structure and Interpretation of Computer Programs matters">Why
Structure and Interpretation of Computer Programs
matters</a>」という記事を見つけた ...</p> 
      <div class="read-more"><a href="/posts/2013/10/27/sicp1/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="/posts/2013/10/23/necessary-programmer/">代替不可能なプログラマとは。</a></div>
<p>
<small>
<abbr class="published" title="2013-10-23T02:32:00">
  水 23 10月 2013
</abbr> | 
 -- (<a href="/posts/2013/10/23/necessary-programmer/" rel="bookmark">permalink</a>)
</small>
</p>      <p>果たしてプログラマという職業はクリエイティブな職業だろうか。</p>
<p>そもそも、クリエイティブとはどういうことだろうか。<a href="http://yuseinishiyama.com/archives/75" title="センスについて">以前の投稿</a>にもあるように、私は「センス」なるものは一切信用していない。クリエイティブとて同じことで、検証不可能な「センス」によって計られるべきではない。おそらく、クリエイティブとは「代替不可能な価値をもたらす、実証可能な能力そのもの」だ。私なりのクリエイティブを定義したところで、改めて問うてみる。</p>
<p>果たしてプログラマという職業はクリエイティブな職業だろうか。</p>
<p>残念ながらほとんどの場合はそうではない。世の中にある大半のコードは代替可能な能力によって生産されている。ほぼ全ての実現したいことに関する情報は、インターネットのどこかに存在する。私が日々の仕事で行っていることも、もちろんそうだ。また、これは非常に大事なことだが、目新しいことができるかどうかでプログラマの能力を計るべきでもない。誰もやりたがらないことを確実に行うプログラマの価値は非常に高い。一般的なプロダクトの完成に寄与する割合で言えば、目新しさは1割ぐらいで、残りの9割は能力的には誰でも出来る作業だろう。だから、デヴィッド・カトラーは優秀なのである。</p>
<blockquote>
<p>カトラーは、プログラマーがいつも新しいコードだけを書きたがり、ミスは忘れたいと考えているとみると、うるさく小言を言った。(G・パスカル・ザカリー著『闘うプログラマ』より)</p>
</blockquote>
<p>こうした理由から、代替可能な作業の精度を挙げて、その精度が代替不可能になることを目指すという手段で代替不可能になることも考えられる。だが、頭では分かっていても ...</p> 
      <div class="read-more"><a href="/posts/2013/10/23/necessary-programmer/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="/posts/2013/10/09/change-theme/">テーマを変更しました。</a></div>
<p>
<small>
<abbr class="published" title="2013-10-09T00:00:00">
  水 09 10月 2013
</abbr> | 
 -- (<a href="/posts/2013/10/09/change-theme/" rel="bookmark">permalink</a>)
</small>
</p>      <p>開発者のWordpressサイトがデフォルトのテーマだというのもなんとなく恥ずかしいので、テーマを作成してみた。とはいえ、Webの開発経験は全然ないので結構苦戦した。未だにあちこち粗が目立つ。しかし、「そのうち全部直して適応〜」とかいってると、一生デフォルトのを使い続けそうなので、先に本番環境に適応してから少しずつ修正することにした。</p>
<p>レスポンシブデザインとかそういうことも考えだすと、自作するのを辞めたい衝動に駆られてしまうが・・・。</p> 
      <div class="read-more"><a href="/posts/2013/10/09/change-theme/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="/posts/2013/09/29/about/">ABOUT</a></div>
<p>
<small>
<abbr class="published" title="2013-09-29T02:59:00">
  日 29 9月 2013
</abbr> | 
 -- (<a href="/posts/2013/09/29/about/" rel="bookmark">permalink</a>)
</small>
</p>       
      <div class="read-more"><a href="/posts/2013/09/29/about/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="/posts/2013/09/29/home/">HOME</a></div>
<p>
<small>
<abbr class="published" title="2013-09-29T02:59:00">
  日 29 9月 2013
</abbr> | 
 -- (<a href="/posts/2013/09/29/home/" rel="bookmark">permalink</a>)
</small>
</p>       
      <div class="read-more"><a href="/posts/2013/09/29/home/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="/posts/2013/09/16/get-latest-app-version-of-ios-application/">iOSでアプリの最新バージョンを取得する方法。</a></div>
<p>
<small>
<abbr class="published" title="2013-09-16T21:50:00">
  月 16 9月 2013
</abbr> | 
 -- (<a href="/posts/2013/09/16/get-latest-app-version-of-ios-application/" rel="bookmark">permalink</a>)
</small>
</p>      <p>開発者であれば、ユーザーには自分の開発したアプリの最新版を使ってほしいと思うだろう。また、ユーザーのアプリバージョンにばらつきがないことは、ビジネス面のメリットも大きい。仕事として開発を行っている人であれば、「アプリのアップデートが行われた場合に通知する機能」の実装を要求されたことは多々あるだろう。</p>
<p>そこで今回は、</p>
<p>アプリの最新版を取得し、ユーザーが利用しているアプリが最新版より古ければ通知する機能</p>
<p>の実装方法を紹介する。</p>
<p>さて、まず考えなくてはいけないのは、どこからアプリの最新版を取得するか、ということである。これにはおおまかに言って、2通りの方法がある。「1.自前のサーバを利用する方法」、と「2.AppleのAPIを利用する方法」の2つだ。どちらが適切な方法であるか比較するために、それぞれのメリット、デメリットを挙げてみた。</p>
<p>1.自前のサーバを利用する方法</p>
<p>メリット</p>
<ul>
<li>テストが容易。</li>
<li>更新のタイミングを自由に決めることができる。</li>
<li>取得先が勝手に変更されることがない。</li>
</ul>
<p>デメリット</p>
<ul>
<li>運用者が必要。</li>
<li>運用ミスが発生する可能性がある。</li>
</ul>
<p>2.AppleのAPIを利用する方法。</p>
<p>メリット</p>
<ul>
<li>自分で運用しなくて良い。</li>
<li>運用ミスが発生しない。</li>
</ul>
<p>デメリット</p>
<ul>
<li>テストが行えない。</li>
<li>APIが変更された場合、機能が無効になる。</li>
<li>APIから取得できるバージョンと、ストアへ反映されているバージョンとの間にタイムラグがあったりなどした場合、その間はどうすることもできない。</li>
</ul>
<p>結論から言うと、「AppleのAPIを使ったほうが楽だが ...</p> 
      <div class="read-more"><a href="/posts/2013/09/16/get-latest-app-version-of-ios-application/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="/posts/2013/09/07/addition-to-required-device-capability/">UnityでiOS向けのビルド時に、RequiredDeviceCapabilityを追加する方法。</a></div>
<p>
<small>
<abbr class="published" title="2013-09-07T21:06:00">
  土 07 9月 2013
</abbr> | 
 -- (<a href="/posts/2013/09/07/addition-to-required-device-capability/" rel="bookmark">permalink</a>)
</small>
</p>      <p><a href="https://developer.apple.com/library/ios/documentation/general/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html">RequiredDeviceCapability</a>を正しく設定していないと、Appleにリジェクトされてしまうことは、広く知られている。</p>
<p>例えば、アプリに静止画を撮影する機能がある場合、このRequiredDeviceCapabilityに「still-camera」を追加してやらないといけない。</p>
<p>RequiredDeviceCapabilityは正しく設定されていなくても、ビルドに失敗しないし、Validationも通過する。だからこそ、リジェクトされてから気づくわけで、こういう作業は特に自動化するメリットが大きいだろう。</p>
<p>そこで、PostProcessBuildPlayerを利用し、Unityからのビルド時にInfo.plistを書き換えて、RequiredDeviceCapabilityを編集する関数を作成してみた。</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">process_plist</span><span class="p">(</span><span class="n">plist_filepath</span><span class="p">):</span>
  <span class="n">pl</span> <span class="o">=</span> <span class="n">plistlib</span><span class="o">.</span><span class="n">readPlist</span><span class="p">(</span><span class="n">plist_filepath</span><span class="p">)</span>
  <span class="n">new_settings</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;still-camera&quot;</span><span class="p">}</span>
  <span class="k">if</span> <span class="s">&quot;UIRequiredDeviceCapabilities&quot;</span> <span class="ow">in</span> <span class="n">pl</span><span class="p">:</span>
    <span class="n">pl</span><span class="p">[</span><span class="s">&quot;UIRequiredDeviceCapabilities&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_settings</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">pl</span><span class="p">[</span><span class="s">&quot;UIRequiredDeviceCapabilities&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">new_settings</span><span class="p">]</span>
  <span class="n">plistlib</span><span class="o">.</span><span class="n">writePlist</span><span class="p">(</span><span class="n">pl</span><span class="p">,</span> <span class="n">plist_filepath</span><span class="p">)</span>
</pre></div>


<p>Info.plistのパスを与えてやると、Info.plistに「still-camera ...</p> 
      <div class="read-more"><a href="/posts/2013/09/07/addition-to-required-device-capability/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="/posts/2013/09/06/screenshot-with-unity-ios/">Unityでスクリーンショットを撮影し、iPhoneのカメラロールに保存する方法。</a></div>
<p>
<small>
<abbr class="published" title="2013-09-06T02:55:00">
  金 06 9月 2013
</abbr> | 
 -- (<a href="/posts/2013/09/06/screenshot-with-unity-ios/" rel="bookmark">permalink</a>)
</small>
</p>      <p>Unityでスクリーンショットを撮るのは非常に簡単である。</p>
<p><a href="http://docs.unity3d.com/Documentation/ScriptReference/Application.CaptureScreenshot.html">Application.CaptureScreenshot</a>という関数が用意されているからだ。</p>
<p>だが、この方法ではアプリのデータ領域に画像が保存されるだけなので、ユーザーが、その画像を閲覧できるようにはならない。アプリ内で画像を管理できるようにしてもいいかもしれないが、スクリーンショットを確認したいだけなのであれば、そこまでする必要はないだろう。</p>
<p>そこで今回は、UnityからiOSのカメラロールにアクセスする方法を紹介する。</p>
<p>``` {.lang:objc .decode:true}</p>
<h1>import <Foundation/Foundation.h></h1>
<h1>import <AssetsLibrary/AssetsLibrary.h></h1>
<h1>import <AVFoundation/AVFoundation.h></h1>
<p>/<em> 
 スクリーンショット撮影時に利用するネイティブコード。
 </em>/</p>
<p>// 指定したパスの画像をカメラロールに保存する。
extern "C" void _WriteImageToAlbum (const char<em> path)
{
    UIImage </em>image = [UIImage imageWithContentsOfFile:[NSString stringWithUTF8String:path]];
    ALAssetsLibrary <em>library = [[[ALAssetsLibrary alloc] init] autorelease];
    NSMutableDictionary </em>metadata = [[[NSMutableDictionary alloc] init] autorelease];
    [library writeImageToSavedPhotosAlbum ...</p> 
      <div class="read-more"><a href="/posts/2013/09/06/screenshot-with-unity-ios/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="/posts/2013/08/31/setup-raspberrypi/">Raspberry Piのセットアップ(NOOBS)。</a></div>
<p>
<small>
<abbr class="published" title="2013-08-31T21:08:00">
  土 31 8月 2013
</abbr> | 
 -- (<a href="/posts/2013/08/31/setup-raspberrypi/" rel="bookmark">permalink</a>)
</small>
</p>      <p>購入してからしばらく放置していたRaspberry Piをセットアップしてみる。</p>
<p>今のところRaspberry
Piでやりたいことはないから、セットアップするに足る目的もないけどなぁ、などと思いつつ作業を開始する。すると、どうしたことか全然上手くいかないので、セットアップすることが目的になって、Raspberry
Piが起動した時には、なんとも言えない達成感が・・・。セットアップとは得てして、このような性質を持った作業である。</p>
<p>さて、私の「セットアップ観」など何の役にも立たないので、私がセットアップの際に困った事を展開したい。</p>
<p>まずインストールするOSをダウンロードするために、下記サイトを見る。</p>
<p><a href="http://www.raspberrypi.org/downloads">http://www.raspberrypi.org/downloads</a></p>
<p>「初心者はNOOBSを利用してOSをインストールするのが、おすすめ」ということなので、それに従う(ちなみにnoobは「新参者」という意味らしい)。「俺は利口だから中級者以上の扱いで頼むぜ」という感じで臨んで、マニュアルで色々やろうとしたら散々な結果になった、などということはぜひとも避けたい。</p>
<p>さて、Transcendの8GB(Class10)のSDカードをフォーマットし、そこにNOOBSのファイルを突っ込み、Raspberry
Piを起動した。</p>
<p>しかし、画面に何も表示されない。よくみると「ACT」のLEDが消灯しているので、それを手がかりに調べてみる ...</p> 
      <div class="read-more"><a href="/posts/2013/08/31/setup-raspberrypi/">read more...</a></div>
      <hr />

<span class="paginator">
    <a href="/author/nishiyama101.html">&laquo;</a>

  Page 2 / 4
    <a href="/author/nishiyama1013.html">&raquo;</a>
</span>
      </section>
      <footer>
        <p><small>&copy; だからといって、このままでいいはずがない。 &mdash; Theme based on Sundown by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <!-- Scale fix -->
    <script>
      var metas = document.getElementsByTagName('meta');
      var i;
      
      if (navigator.userAgent.match(/iPhone/i)) {
        for (i=0; i<metas.length; i++) {
          if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=1.0, maximum-scale=1.0";
          }
        }
      
        document.addEventListener("gesturestart", gestureStart, false);
      }

      function gestureStart() {
        for (i=0; i<metas.length; i++) {
          if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=0.25, maximum-scale=1.6";
          }
        }
      }
    </script>
  </body>
</html>