<!doctype html>
<html lang="jp">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>だからといって、このままでいいはずがない。</title>

    <link rel="stylesheet" href="http://yuseinishiyama.com/theme/css/main.css">
    <link rel="stylesheet" href="http://yuseinishiyama.com/theme/css/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <div><img src="" class="grv-img"/></div>
        <div class="title"><a href="http://yuseinishiyama.com/">だからといって、このままでいいはずがない。 </a></div>
        <div class="sub-title"></div>

<p>
    <div class="view"><a href="http://yuseinishiyama.com/pages/about-me.html">About Me</a></div>
  <div class="view"><a href="http://yuseinishiyama.com/archives.html">Archives</a></div>
  <div class="view"><a href="http://yuseinishiyama.com/categories">Categories</a></div>
</p>

<!-- Social links -->
<div class="social">
<h4>Follow Me</h4>
<ul>
    <li><a href="https://twitter.com/yuseinishiyama">twitter</a></li>
    <li><a href="https://github.com/yuseinishiyama">github</a></li>
</ul>
</div>

      </header>
      <section>
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/10/09/change-theme/">テーマを変更しました。</a></div>
<p>
<small>
<abbr class="published" title="2013-10-09T00:00:00">
  2013-10-09(水)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/10/09/change-theme/" rel="bookmark">permalink</a>)
</small>
</p>      <p>開発者のWordpressサイトがデフォルトのテーマだというのもなんとなく恥ずかしいので、テーマを作成してみた。とはいえ、Webの開発経験は全然ないので結構苦戦した。未だにあちこち粗が目立つ。しかし、「そのうち全部直して適応〜」とかいってると、一生デフォルトのを使い続けそうなので、先に本番環境に適応してから少しずつ修正することにした。</p>
<p>レスポンシブデザインとかそういうことも考えだすと、自作するのを辞めたい衝動に駆られてしまうが・・・。</p> 
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/10/09/change-theme/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/09/29/about/">ABOUT</a></div>
<p>
<small>
<abbr class="published" title="2013-09-29T02:59:00">
  2013-09-29(日)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/09/29/about/" rel="bookmark">permalink</a>)
</small>
</p>       
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/09/29/about/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/09/29/home/">HOME</a></div>
<p>
<small>
<abbr class="published" title="2013-09-29T02:59:00">
  2013-09-29(日)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/09/29/home/" rel="bookmark">permalink</a>)
</small>
</p>       
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/09/29/home/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/09/16/get-latest-app-version-of-ios-application/">iOSでアプリの最新バージョンを取得する方法。</a></div>
<p>
<small>
<abbr class="published" title="2013-09-16T21:50:00">
  2013-09-16(月)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/09/16/get-latest-app-version-of-ios-application/" rel="bookmark">permalink</a>)
</small>
</p>      <p>開発者であれば、ユーザーには自分の開発したアプリの最新版を使ってほしいと思うだろう。また、ユーザーのアプリバージョンにばらつきがないことは、ビジネス面のメリットも大きい。仕事として開発を行っている人であれば、「アプリのアップデートが行われた場合に通知する機能」の実装を要求されたことは多々あるだろう。</p>
<p>そこで今回は、</p>
<p>アプリの最新版を取得し、ユーザーが利用しているアプリが最新版より古ければ通知する機能</p>
<p>の実装方法を紹介する。</p>
<p>さて、まず考えなくてはいけないのは、どこからアプリの最新版を取得するか、ということである。これにはおおまかに言って、2通りの方法がある。「1.自前のサーバを利用する方法」、と「2.AppleのAPIを利用する方法」の2つだ。どちらが適切な方法であるか比較するために、それぞれのメリット、デメリットを挙げてみた。</p>
<p>1.自前のサーバを利用する方法</p>
<p>メリット</p>
<ul>
<li>テストが容易。</li>
<li>更新のタイミングを自由に決めることができる。</li>
<li>取得先が勝手に変更されることがない。</li>
</ul>
<p>デメリット</p>
<ul>
<li>運用者が必要。</li>
<li>運用ミスが発生する可能性がある。</li>
</ul>
<p>2.AppleのAPIを利用する方法。</p>
<p>メリット</p>
<ul>
<li>自分で運用しなくて良い。</li>
<li>運用ミスが発生しない。</li>
</ul>
<p>デメリット</p>
<ul>
<li>テストが行えない。</li>
<li>APIが変更された場合、機能が無効になる。</li>
<li>APIから取得できるバージョンと、ストアへ反映されているバージョンとの間にタイムラグがあったりなどした場合、その間はどうすることもできない。</li>
</ul>
<p>結論から言うと、「AppleのAPIを使ったほうが楽だが ...</p> 
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/09/16/get-latest-app-version-of-ios-application/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/09/07/addition-to-required-device-capability/">UnityでiOS向けのビルド時に、RequiredDeviceCapabilityを追加する方法。</a></div>
<p>
<small>
<abbr class="published" title="2013-09-07T21:06:00">
  2013-09-07(土)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/09/07/addition-to-required-device-capability/" rel="bookmark">permalink</a>)
</small>
</p>      <p><a href="https://developer.apple.com/library/ios/documentation/general/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html">RequiredDeviceCapability</a>を正しく設定していないと、Appleにリジェクトされてしまうことは、広く知られている。</p>
<p>例えば、アプリに静止画を撮影する機能がある場合、このRequiredDeviceCapabilityに「still-camera」を追加してやらないといけない。</p>
<p>RequiredDeviceCapabilityは正しく設定されていなくても、ビルドに失敗しないし、Validationも通過する。だからこそ、リジェクトされてから気づくわけで、こういう作業は特に自動化するメリットが大きいだろう。</p>
<p>そこで、PostProcessBuildPlayerを利用し、Unityからのビルド時にInfo.plistを書き換えて、RequiredDeviceCapabilityを編集する関数を作成してみた。</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">process_plist</span><span class="p">(</span><span class="n">plist_filepath</span><span class="p">):</span>
  <span class="n">pl</span> <span class="o">=</span> <span class="n">plistlib</span><span class="o">.</span><span class="n">readPlist</span><span class="p">(</span><span class="n">plist_filepath</span><span class="p">)</span>
  <span class="n">new_settings</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;still-camera&quot;</span><span class="p">}</span>
  <span class="k">if</span> <span class="s">&quot;UIRequiredDeviceCapabilities&quot;</span> <span class="ow">in</span> <span class="n">pl</span><span class="p">:</span>
    <span class="n">pl</span><span class="p">[</span><span class="s">&quot;UIRequiredDeviceCapabilities&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_settings</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">pl</span><span class="p">[</span><span class="s">&quot;UIRequiredDeviceCapabilities&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">new_settings</span><span class="p">]</span>
  <span class="n">plistlib</span><span class="o">.</span><span class="n">writePlist</span><span class="p">(</span><span class="n">pl</span><span class="p">,</span> <span class="n">plist_filepath</span><span class="p">)</span>
</pre></div>


<p>Info.plistのパスを与えてやると、Info.plistに「still-camera ...</p> 
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/09/07/addition-to-required-device-capability/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/09/06/screenshot-with-unity-ios/">Unityでスクリーンショットを撮影し、iPhoneのカメラロールに保存する方法。</a></div>
<p>
<small>
<abbr class="published" title="2013-09-06T02:55:00">
  2013-09-06(金)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/09/06/screenshot-with-unity-ios/" rel="bookmark">permalink</a>)
</small>
</p>      <p>Unityでスクリーンショットを撮るのは非常に簡単である。</p>
<p><a href="http://docs.unity3d.com/Documentation/ScriptReference/Application.CaptureScreenshot.html">Application.CaptureScreenshot</a>という関数が用意されているからだ。</p>
<p>だが、この方法ではアプリのデータ領域に画像が保存されるだけなので、ユーザーが、その画像を閲覧できるようにはならない。アプリ内で画像を管理できるようにしてもいいかもしれないが、スクリーンショットを確認したいだけなのであれば、そこまでする必要はないだろう。</p>
<p>そこで今回は、UnityからiOSのカメラロールにアクセスする方法を紹介する。</p>
<div class="highlight"><pre><span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>
<span class="cp">#import &lt;AssetsLibrary/AssetsLibrary.h&gt;</span>
<span class="cp">#import &lt;AVFoundation/AVFoundation.h&gt;</span>

<span class="cm">/* </span>
<span class="cm"> スクリーンショット撮影時に利用するネイティブコード。</span>
<span class="cm"> */</span>

<span class="c1">// 指定したパスの画像をカメラロールに保存する。</span>
<span class="k">extern</span> <span class="s">&quot;C&quot;</span> <span class="kt">void</span> <span class="n">_WriteImageToAlbum</span> <span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">path</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">UIImage</span> <span class="o">*</span><span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIImage</span> <span class="n">imageWithContentsOfFile</span><span class="o">:</span><span class="p">[</span><span class="n">NSString</span> <span class="n">stringWithUTF8String</span><span class="o">:</span><span class="n">path</span><span class="p">]];</span>
    <span class="n">ALAssetsLibrary</span> <span class="o">*</span><span class="n">library</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">ALAssetsLibrary</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
    <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">metadata</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">NSMutableDictionary ...</span></pre></div> 
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/09/06/screenshot-with-unity-ios/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/08/31/setup-raspberrypi/">Raspberry Piのセットアップ(NOOBS)。</a></div>
<p>
<small>
<abbr class="published" title="2013-08-31T21:08:00">
  2013-08-31(土)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/08/31/setup-raspberrypi/" rel="bookmark">permalink</a>)
</small>
</p>      <p>購入してからしばらく放置していたRaspberry Piをセットアップしてみる。</p>
<p>今のところRaspberry
Piでやりたいことはないから、セットアップするに足る目的もないけどなぁ、などと思いつつ作業を開始する。すると、どうしたことか全然上手くいかないので、セットアップすることが目的になって、Raspberry
Piが起動した時には、なんとも言えない達成感が・・・。セットアップとは得てして、このような性質を持った作業である。</p>
<p>さて、私の「セットアップ観」など何の役にも立たないので、私がセットアップの際に困った事を展開したい。</p>
<p>まずインストールするOSをダウンロードするために、下記サイトを見る。</p>
<p><a href="http://www.raspberrypi.org/downloads">http://www.raspberrypi.org/downloads</a></p>
<p>「初心者はNOOBSを利用してOSをインストールするのが、おすすめ」ということなので、それに従う(ちなみにnoobは「新参者」という意味らしい)。「俺は利口だから中級者以上の扱いで頼むぜ」という感じで臨んで、マニュアルで色々やろうとしたら散々な結果になった、などということはぜひとも避けたい。</p>
<p>さて、Transcendの8GB(Class10)のSDカードをフォーマットし、そこにNOOBSのファイルを突っ込み、Raspberry
Piを起動した。</p>
<p>しかし、画面に何も表示されない。よくみると「ACT」のLEDが消灯しているので、それを手がかりに調べてみる ...</p> 
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/08/31/setup-raspberrypi/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/08/19/3idiots/">きっと、うまくいく</a></div>
<p>
<small>
<abbr class="published" title="2013-08-19T17:18:00">
  2013-08-19(月)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/08/19/3idiots/" rel="bookmark">permalink</a>)
</small>
</p>      <p>映画『きっと、うまくいく(3idiots)』を見た。</p>
<p>序盤は、ボリウッド特有の唐突なミュージカルシーンと、とてつもなく大味の筋書きに慣れなかった。しかし、終わってみると、伏線もきれいに回収され、結末もすがすがしく、前評判通りの快作だったといえよう。</p>
<p>ランチョーという主人公を通して明らかにされる、この作品のメッセージは「誠実さ」に尽きる。彼は納得のいかないことをそのまま放置することが出来ず、しがらみに縛られて不誠実な行動をとる人間にひたすら突っかかる。この彼のお節介が、様々の愉快な事件を巻き起こし、また周囲の人々を変えていく。</p>
<p>勇気をもらえた一方で、どうしても違和感が拭い去れなかった。</p>
<p>主人公ランチョーはの人間像は理想的だ。彼は、このようにありたいと思うと同時に、そのようにあろうとできる。一方で、ランチョーの周りの人々はとても現実的だ。彼らはインドという国に住みながらも、抱えている問題は我々日本人とほとんど変わらない。彼らの抱える問題は、</p>
<p>親の希望と自分の希望が乖離していること<br />
宗教を盲信してしまうこと<br />
貧乏な家族の生活を背負っていること<br />
他人の期待に必要以上に答えようとしてしまうこと</p>
<p>など、万国共通の問題である。ランチョーはこうした問題を抱える人間に、自分に正直に生きるように勧める。ではなぜランチョ―はしがらみから開放され、自由に振る舞うことができるのか。それは、「本当に」彼にしがらみがないからに他ならない。</p>
<p>ランチョーには家族がいない。また、彼は家庭を持とうとしない ...</p> 
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/08/19/3idiots/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/08/08/quincy-live-in-japan/">クインシー・ジョーンズ来日</a></div>
<p>
<small>
<abbr class="published" title="2013-08-08T09:34:00">
  2013-08-08(木)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/08/08/quincy-live-in-japan/" rel="bookmark">permalink</a>)
</small>
</p>      <p>クインシー・ジョーンズ生誕80年を記念して、<span
style="line-height: 1.5;">32年ぶりにQが日本のステージに立った。</span>そんな訳で、私も去る7月31日、東京国際フォーラムに赴いた。</p>
<p>どういう訳か、日本人アーティストの演奏が全体の半分ぐらいを占めている。トリビュートパートと呼ばれており、亀田誠治がプロデュースしているらしい。<br />
その出演者は</p>
<p>綾香・小曽根真・小野リサ・K・ゴスペラーズ・BoA・三浦大知・土岐麻子</p>
<p>という混迷っぷりだから、見る前から少し不安であった。</p>
<p><span
style="line-height: 1.5;">ちなみに、メインであるクインシー・ジョーンズのパートは、</span>いわゆる「クインシーの秘蔵っ子」が次々と出演するという構成。しかも超若手の、見聴きしたことのない出演者ばかりで、こちらも同じく不安であった。</p>
<p>ライブレポートを書くのであれば、司会のクリスペプラーの登場から<span
style="line-height: 1.5;">時系列順に内容を追っていくべきなのだろうが、そういうつもりもないので</span><span ...</p> 
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/08/08/quincy-live-in-japan/">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://yuseinishiyama.com/posts/2013/07/21/cope-with-self-contradiction/">自己矛盾との付き合い方</a></div>
<p>
<small>
<abbr class="published" title="2013-07-21T20:27:00">
  2013-07-21(日)
</abbr> | 
 -- (<a href="http://yuseinishiyama.com/posts/2013/07/21/cope-with-self-contradiction/" rel="bookmark">permalink</a>)
</small>
</p>      <p>先日、岡本太郎美術館へ行った。</p>
<p>正直なところ絵には疎い。全くのデタラメを抽象画といわれて、納得してしまうことは充分ありえる。そして、仮にそれが美術館に置いてあったとして、その絵の前で手を組んで頷いたりしてしまったら、これほど滑稽なことはない。だから、岡本太郎が描くような抽象画にもある程度距離をおいて対峙したところ、次々と矛盾した感想が頭をもたげてきた。</p>
<p>やっぱりこんなのはデタラメだ。  </p>
<p>⇔デタラメに見えるが、一貫したモチーフがあるように思う。解説によると、考えぬかれた構図があるらしい。</p>
<p>親も金持ちで、パリに留学している。結局、金か。  </p>
<p>⇔岡本太郎がフランス語でしゃべっている映像が展示されていた。かなり努力したのでは。</p>
<p>もし、これが適当だとしたら、全く無価値だ。  </p>
<p>⇔これだけバカでかくて派手な色の作品だとどうしても気になってしまう。気になるということはそれだけで価値があるのでは。</p>
<p>アバンギャルドな人だ。<br />
⇔TVに出演し、大衆に迎合した人だ。</p>
<p>画の練習などしなくてもこんな画は描けそうだ。<br />
⇔かなり立派な肖像画も描いている。</p>
<p>いったいどうしてこれほど評価を定めることが出来ないのかと困惑していると、それに答えるかのように、岡本太郎の芸術理論を紹介している動画の中で、こんな言葉にぶつかった。</p>
<p>「矛盾を矛盾のまま書きだすのだ。」</p>
<p>ああ、そうか。と、これで全てが納得いった。なんてことはない、私が最も大事だと思っている考えを岡本太郎は体現したわけだ。</p>
<p>私は同じ考えを「自己矛盾を解消してはならない」というポリシーとして所持していた。</p>
<p>自分を割り切るというのは魅力的な考えだ。例えば、こんなふうに ...</p> 
      <div class="read-more"><a href="http://yuseinishiyama.com/posts/2013/07/21/cope-with-self-contradiction/">read more...</a></div>
      <hr />

<span class="paginator">
    <a href="http://yuseinishiyama.com/index2.html">&laquo;</a>

  Page 3 / 4
    <a href="http://yuseinishiyama.com/index4.html">&raquo;</a>
</span>
      </section>
      <footer>
        <p><small>&copy; だからといって、このままでいいはずがない。 &mdash; Theme based on Sundown by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <!-- Scale fix -->
    <script>
      var metas = document.getElementsByTagName('meta');
      var i;
      
      if (navigator.userAgent.match(/iPhone/i)) {
        for (i=0; i<metas.length; i++) {
          if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=1.0, maximum-scale=1.0";
          }
        }
      
        document.addEventListener("gesturestart", gestureStart, false);
      }

      function gestureStart() {
        for (i=0; i<metas.length; i++) {
          if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=0.25, maximum-scale=1.6";
          }
        }
      }
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48020408-1', 'yuseinishiyama.com');
  ga('send', 'pageview');
</script>
  </body>
</html>